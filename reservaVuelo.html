<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AeroTEC</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/styles.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">AeroTEC</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="inicioUser.html">Home</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <div class="container">
        <h1>Reservar tu vuelo</h1>

        <div class="section">
          <form id="vueloForm">
            <div class="input-group mb-3" data-bs-theme="dark">
                <select class="form-select" id="vueloSeleccionado" name="vuelo_selected" required>
                    <option value="" disabled selected>Elige el vuelo...</option>
                    <option value="1">001 - Ciudad A a Ciudad B</option>
                    <option value="2">002 - Ciudad C a Ciudad D</option>
                </select>
            </div>
            <p style="color:#ffff">Vuelos disponibles</p>
        
            <!-- Tabla para visualizar los vuelos disponibles -->
            <table class="table table-dark" id="detallesVuelo">
                <thead>
                    <tr>
                        <th scope="col">Numero de vuelo</th>
                        <th scope="col">Aerolinea</th>
                        <th scope="col">Modelo de avion</th>
                        <th scope="col">Origen</th>
                        <th scope="col">Destino</th>
                        <th scope="col">Tiempo de salida</th>
                        <th scope="col">Tiempo de llegada</th>
                        <th scope="col">Duración</th>
                        <th scope="col">Precio</th>
                        <th scope="col">Asientos disponibles</th>
                        <th scope="col">Asientos totales</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">001</th>
                        <td>Aerolinea A</td>
                        <td>Boeing 737</td>
                        <td>Ciudad A</td>
                        <td>Ciudad B</td>
                        <td>08:00</td>
                        <td>10:00</td>
                        <td>2h</td>
                        <td>$100</td>
                        <td>50</td>
                        <td>200</td>
                    </tr>
                    <tr>
                        <th scope="row">002</th>
                        <td>Aerolinea B</td>
                        <td>Airbus A320</td>
                        <td>Ciudad C</td>
                        <td>Ciudad D</td>
                        <td>12:00</td>
                        <td>14:30</td>
                        <td>2h 30m</td>
                        <td>$120</td>
                        <td>75</td>
                        <td>150</td>
                    </tr>
                </tbody>
            </table>
        
            <div class="input-group flex-nowrap justify-content-md-center" data-bs-theme="dark">
                <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-3" data-bs-theme="dark">
                    <button type="submit" class="btn btn-outline-secondary btn-lg" style="color: aliceblue;">Agendar</button>
                </div>
            </div>
        </form>
          </div>
        </div>
      </div>
    <!-- Bootstrap JS y dependencias de Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
      document.getElementById('vueloForm').addEventListener('submit', function(event) {
          event.preventDefault();
      
          // Obtener el vuelo seleccionado
          const vueloSeleccionado = document.getElementById('vueloSeleccionado').value;
      
          // Verificar que se haya seleccionado un vuelo
          if (!vueloSeleccionado) {
              alert('Por favor, selecciona un vuelo.');
              return;
          }
      
          // Crear un objeto con los detalles del vuelo seleccionado
          const vuelosDisponibles = {
              "1": {
                  numeroVuelo: "001",
                  aerolinea: "Aerolinea A",
                  modeloAvion: "Boeing 737",
                  origen: "Ciudad A",
                  destino: "Ciudad B",
                  salida: "08:00",
                  llegada: "10:00",
                  duracion: "2h",
                  precio: "$100",
                  asientosDisponibles: 50,
                  asientosTotales: 200
              },
              "2": {
                  numeroVuelo: "002",
                  aerolinea: "Aerolinea B",
                  modeloAvion: "Airbus A320",
                  origen: "Ciudad C",
                  destino: "Ciudad D",
                  salida: "12:00",
                  llegada: "14:30",
                  duracion: "2h 30m",
                  precio: "$120",
                  asientosDisponibles: 75,
                  asientosTotales: 150
              }
          };
      
          // Guardar la información del vuelo seleccionado en localStorage
          const vueloSeleccionadoDetalles = vuelosDisponibles[vueloSeleccionado];
          localStorage.setItem('vueloSeleccionado', JSON.stringify(vueloSeleccionadoDetalles));
      
          // Redirigir al usuario a la página inicioUser.html
          window.location.href = 'inicioUser.html';
      });
      </script>
</body>
</html>